---
title: 服务搭建1
date: 2018-03-12 10:18:48
categories: 
tags: 
---

## nginx 安装
yum install nginx

## mysql 安装
yum install mysql mysql-server mysql-devel

### 问题
1. 不允许远程登录，ERROR 1130 (HY000): Host '202.106.10.34' is not allowed to connect to this MariaDB server 
```解决方法：
1. 改表法。可能是你的帐号不允许从远程登陆，只能在localhost。这个时候只要在localhost的那台电脑，登入mysql后，更改 "mysql" 数据库里的 "user" 表里的 "host" 项，从"localhost"改称"%"

mysql -u root -pvmwaremysql>use mysql;mysql>update user set host = '%' where user = 'root';mysql>select host, user from user;

2. 授权法。例如，你想myuser使用mypassword从任何主机连接到mysql服务器的话。

GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'%' IDENTIFIED BY 'mypassword' WITH GRANT OPTION;
如果你想允许用户myuser从ip为192.168.1.3的主机连接到mysql服务器，并使用mypassword作为密码
GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.1.3' IDENTIFIED BY 'mypassword' WITH GRANT OPTION;

GRANT ALL PRIVILEGES ON *.* TO 'root'@'10.10.40.54' IDENTIFIED BY '123456' WITH GRANT OPTION;
```

## 生成ssh-key
ssh-keygen

## 安装git
yum install git

## 安装go
yum install go

### 配置go环境变量
```
vim ~/.profile
source ~/.profile
export GOROOT=/usr/local/go
export PATH=$PATH:$GOROOT/bin
```

## 部署go项目
```
设置gopath  
GOPATH="/usr/local/gopath" 
cd $GOPATH/src/ 
git clone project1
cd  $GOPATH/src/project1
go build
cd $GOPATH/bin
nohup ./project1 &> project1.log & #启动这个程序,并且让他一直在后台执行
```
## 安装docker

### 在docker部署项目

## 安装k13b


