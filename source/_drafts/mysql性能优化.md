---
title: mysql性能优化
date: 2018-05-18 08:07:53
categories: 
    - mysql
tags: 
    - mysql
---
## 性能优化
1. 查询缓存
查询sql中不出现NOW() 和 RAND() 或是其它的诸如此类的SQL函数。

2. EXPLAIN 分析 SELECT 查询

3. 当只要一行数据时使用 LIMIT 1
MySQL数据库引擎会在找到一条数据后停止搜索，而不是继续往后查少下一条符合记录的数据。

4. 为搜索字段建索引
有某个字段你总要会经常用来做搜索，那么，请为其建立索引吧。

5. 在Join表的时候使用相当类型的列，并将其索引
你应该确认两个表中Join的字段是被建过索引的

6. 千万不要 ORDER BY RAND()
7. 避免 SELECT *
8. 永远为每张表设置一个ID
9. 使用 ENUM 而不是 VARCHAR
ENUM 类型是非常快和紧凑的。在实际上，其保存的是 TINYINT，但其外表上显示为字符串。这样一来，用这个字段来做一些选项列表变得相当的完美。

如果你有一个字段，比如“性别”，“国家”，“民族”，“状态”或“部门”，你知道这些字段的取值是有限而且固定的，那么，你应该使用 ENUM 而不是 VARCHAR。

10. 尽可能的使用 NOT NULL
11. 把IP地址存成 UNSIGNED INT
你可以使用 INET_ATON() 来把一个字符串IP转成一个整形，并使用 INET_NTOA() 把一个整形转成一个字符串IP

12. 固定长度的表会更快
13. 拆分大的 DELETE 或 INSERT 语句
这两个操作是会锁表的，表一锁住了，别的操作都进不来了。使用 LIMIT 条件

14. 越小的列会越快
